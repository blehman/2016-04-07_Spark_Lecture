<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Distributed Processing &amp; Spark</h1>
					<h4>A **growing** Data Science Perspective</h4>
          <img src='img/salt.png' alt='joke'>
					<p>
						<small>Created by <a href="http://pedalproject.com" target='_blank'>Brian Lehman</a> / <a target='_blank' href="http://twitter.com/BrianLehman">@BrianLehman</a></small>
					</p>
          <aside class="notes">
          </aside>

				</section>
        <section>
          <h2>Google Trends</h2>
          <script type="text/javascript" src="//www.google.com/trends/embed.js?hl=en-US&q=/m/0r4s2l1,+/m/0ndhxqz,+/m/05pp4x&cmpt=q&tz=Etc/GMT%2B6&tz=Etc/GMT%2B6&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=500&h=400"></script>
          <ul>
            <li>What problem/solution motivated this trend?</li>
          </ul>
          <aside class="notes">
1.) Distributed Processing of data... Machine Learning
2.) Different PBS in that the nodes can communicate mid process. (@Kolb)
3.) A mapper (just a function) - runs a process on a single node. (ABSENT: communication protcal)
4.) RDD (Resilient Distributed Dataset) (interface that surfaces shared information). 
1.) The reason Spark was created is so you could do ML on data that will not fit into memory.
2.) http://www.edureka.co/blog/apache-spark-vs-hadoop-mapreduce - speak to the logistic regression power
3.) Before Spark
Pregel - graph processing
Storm - realtime stream processing
Hive &amp; Pig - sql like query engines
...chain these technologies together to use them all.
Now spark can generalize all of this in the RDD paradigm and provide Graph sql, ML, stream processing, and graph processing.

          </aside>
        </section>

       <section>
          <h2>Performance</h2>
          <h4>How can we improve distributed processing?</h4>
          <a href='http://bl.ocks.org/mlunacek/raw/6590169/' target='_blank'><img src='img/LoadBalancing.png' alt='monteD3' width=500 ></a>
          <aside class="notes">
            1.) How to use a fix set of processors to minimize the total time to completion of a bunch of sub processes that could fail. 
            2.) There's lots of things that have solve these problems! 
          </aside>
        </section>
        <section>
            <h2>Spark's locale</h2>
            <p>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/QAvE0bplL_Y" frameborder="0" allowfullscreen></iframe>
            </p>
          <aside class="notes">
          </aside>
        </section>

         <section>
            <h2>Spark &amp; Alternatives (Part I)</h2>
            <p>
                <img src='img/MTC.svg' width=500 alt='MTC'/>
            </p>
            <p>
            Details explained in:
            </p>
              <ul>
                <li>Monte Lunacek's <a href="http://researchcomputing.github.io/meetup_spring_2014/python/spark.html" target='_blank'>talk</a></li>
                <li>This <a href='http://datasys.cs.iit.edu/publications/2009_PhD-UChicago_dissertation.pdf' target='_blank'>long paper.</a></li>
              </ul>
          <aside class="notes">
1.) HPC - High Performance Computer (many computers - super computer) 
      Example: climate models where the dependencies require commuinication among many threads.
    HTC - High-throughput computing (HTC) is a computer science term to describe the use of many computing resources over long periods of time to accomplish a computational task.
    MPI - Message Passing Interface
          </aside>
        </section>
        <section>
            <h2>Spark &amp; Alternatives (Part II)</h2>
            <p>
                <img src='img/overview.png' width=500 alt='MTC'/>
            </p>
            <ul>
              <li>Spark is a highly flexible process.</li>
            </ul>
        </section>

<!-- http://0x0fff.com/spark-misconceptions/
  Notes: 



-->
        <section>
        <h2> Least Recently Used (LRU) Algorithm</h2>
                <img src='img/LRU.png' alt='LRU'/>

        </section>

  <section>
						<h2>Spark Motivation</h2>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/qf2IxHzueXA" frameborder="0" allowfullscreen></iframe>
            <ul>
                <li>Lazy Computation: optimizes the job before executing (re-order joins, ect.).</li>
                <li>In-memory intermediate data caching: LRU. </li>
                <li>Efficient pipelining: efficiently avoids hitting the HDD.</li>
                <li>*RDD: collection of data items split into partitions and stored in memory on worker nodes on the clusters</li>
            </ul>
            <aside class="notes">
              3:30 &amp; 
             <ul>
                <li> RDD - is an interface for data transformation and does not have any data in it.</li>
                <li> RDD - stores reference to the partitians that can reference a specific cache item.</li>
                <li> RDD - stores reference to the dependencies for the parent RDDs involment with the partition.</li>
                <li> RDD - partitions are set of data splits associated with the RDD.</li>
                <li> RDD - a dataframe has an RDD inside of it because this is the most basic unit in Spark.</li>
                <li> RDD - a join, union, intersection is just making RDDs depend on other RDDs.</li>
                <li> DAG - Direct Acyclic Graph.</li>
                <li> Node - RDD partition.</li>
                <li> Edge - transformation on top of data.</li>
                <li> Acyclic - graph cannot return to older partition.</li>
                <li> Acyclic - each partition is immutable.</li>
                <li> Direct - data is transfered from one partition to another, but cannot go back.</li>
             </ul>
          </aside>
        </section>
        <section>
          <h2><a href="http://0x0fff.com/spark-misconceptions/" target='_blank'>*Potential misconceptions:</a></h2>
          <ul>
            <li>Spark is an entirely in-memory technology.</li>
            <li>Spark always performs 10x-100x faster than Hadoop.</li>
            <li>Spark introduces completely new approach for data processing on the market.</li>
          </ul>
          <aside class="notes">
1.) Spark is an in-memory technology: It is the technology that allows you to efficiently utilize in-memory LRU cache with possible on-disk eviction on memory full condition. The LRU is a "smart" algorithm that tries to manage the cache by throwing away the Least Recently Used items.
2.) You may not need Spark's speed. MapReduce's processing style can be just fine if your data operations and reporting requirements are mostly static and you can wait for batch-mode processing. But if you need to do analytics on streaming data, like from sensors on a factory floor, or have applications that require multiple operations, you probably want to go with Spark. Most machine-learning algorithms, for example, require multiple operations. Common applications for Spark include real-time marketing campaigns, online product recommendations, cybersecurity analytics and machine log monitoring.
3.) 
          </aside>
        </section>

        <section>
          <h2>Example Code</h2>
					<pre><code class="hljs" data-trim contenteditable>
import json

infile = sc.textFile("s3n://2016-04-07.CU.lecture/test.data")
json_data = data.map(lambda x: json.loads(x))
parsed_text = json_data.flatMap(lambda x: x['body'].lower().split())
counts = parsed_text.map(lambda x: (x,1)).reduceByKey(lambda x,y: x+y)
sorted_counts = counts.sortByKey(ascending=False)

					</code></pre>
        </section>
        <section>
						<h2>Wordcount in Mapreduce</h2>
            <img src="img/mapreduce_word_count.png" width=600 alt='Spark-Memory-Management'>
            <p>
            Pulling in data, we see that each transformation creates a new RDD.
            </p>
          <aside class="notes">
          </aside>
        </section>
        <section>
						<h2>Additional functionality in Spark</h2>
            <img src="img/spark_extras.png" width=600 alt='Spark-Memory-Management'>
          <aside class="notes">
          </aside>
        </section>
        <section>
          <h2>Logistic Regression</h2>
            <img src="img/logisitic_regression.png" width=600 alt='LogisticRegression'>
        </section>
        <section>
In general, Spark is faster than MapReduce because of:
<ul>
  <li>Faster task startup time.</li> 
  <li>Faster shuffles.</li>
  <li>Faster workflows.</li> 
  <li>Caching.</li>
</ul>
          <aside class="notes">
1. Spark forks the thread, MR brings up a new JVM
2. Spark puts the data on HDDs only once during shuffles, MR does it twice.
3. Typical MR workflow is a series of MR jobs, each of which persists data to HDFS between iterations. Spark supports DAGs and pipelining, which allows it to execute complex workflows without intermediate data materialization (unless you need to “shuffle” it)
4. It is doubtful because at the moment HDFS can also utilize the cache, but in general Spark cache is quite good, especially its SparkSQL part that caches the data in optimized column-oriented form
5. ENDING NOTE: All of these gives Spark good performance boost compared to Hadoop, which can really be up to 100x for short-running jobs, but for real production workloads it won’t exceed 2.5x – 3x at most.
         </aside>
        </section>
        <section>
          <h1>THANKS!</h1>
          <br></br>
          <h1>Questions?</h1>
        </section>
        </section>
        <section>
        <h2> Spark In Action </h2>
        <p>Actions - return values
        <ul>
          <li>collect</li>
          <li>reduce</li>
          <li>take</li>
          <li>count</li>
        </ul>
        </p>
        <p>Transformations return pointers to new RDDs
        <ul>
          <li>map, flatmap</li>
          <li>reduceByKey</li>
          <li>filter</li>
          <li>glom</li>
        </ul>
        </p>
          <aside class="notes">
          </aside>
        </section>
        <section>
						<h2>Spark Architecture</h2>
            <img src="img/Spark-Memory-Management-1.6.0-768x808.png" width=500 alt='Spark-Memory-Management'>
        </section>
        <section>
          <p>Test</p>
        </section>
				<section>
					<h2>Hello There</h2>
					<p>
						reveal.js enables you to create beautiful interactive slide decks using HTML. This presentation will show you examples of what it can do.
					</p>
          <aside class="notes">
          </aside>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>Vertical Slides</h2>
						<p>Slides can be nested inside of each other.</p>
						<p>Use the <em>Space</em> key to navigate through all slides.</p>
						<br>
						<a href="#" class="navigate-down">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
          <aside class="notes">
          </aside>
					</section>
					<section>
						<h2>Basement Level 1</h2>
						<p>Nested slides are useful for adding additional detail underneath a high level horizontal slide.</p>
          <aside class="notes">
          </aside>
					</section>
					<section>
						<h2>Basement Level 2</h2>
						<p>That's it, time to go back up.</p>
						<br>
						<a href="#/2">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Up arrow" style="transform: rotate(180deg); -webkit-transform: rotate(180deg);">
						</a>
          <aside class="notes">
          </aside>
					</section>
				</section>

				<section>
					<h2>Slides</h2>
					<p>
						Not a coder? Not a problem. There's a fully-featured visual editor for authoring these, try it out at <a href="http://slides.com" target="_blank">http://slides.com</a>.
					</p>
				</section>

          <aside class="notes">
          </aside>
				<section>
					<h2>Point of View</h2>
					<p>
						Press <strong>ESC</strong> to enter the slide overview.
					</p>
					<p>
						Hold down alt and click on any element to zoom in on it using <a href="http://lab.hakim.se/zoom-js">zoom.js</a>. Alt + click anywhere to zoom back out.
					</p>
          <aside class="notes">
          </aside>
				</section>

				<section>
					<h2>Touch Optimized</h2>
					<p>
						Presentations look great on touch devices, like mobile phones and tablets. Simply swipe through your slides.
					</p>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Markdown support

						Write content using inline or external Markdown.
						Instructions and more info available in the [readme](https://github.com/hakimel/reveal.js#markdown).

						```
						<section data-markdown>
						  ## Markdown support

						  Write content using inline or external Markdown.
						  Instructions and more info available in the [readme](https://github.com/hakimel/reveal.js#markdown).
						</section>
						```
					</script>
				</section>

				<section>
					<section id="fragments">
						<h2>Fragments</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<p><span class="fragment">... a</span> <span class="fragment">fragmented</span> <span class="fragment">slide.</span></p>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's different types of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment fade-out">fade-out</p>
						<p class="fragment current-visible">current-visible</p>
						<p class="fragment highlight-red">highlight-red</p>
						<p class="fragment highlight-blue">highlight-blue</p>
					</section>
				</section>

				<section id="transitions">
					<h2>Transition Styles</h2>
					<p>
						You can select from different transitions, like: <br>
						<a href="?transition=none#/transitions">None</a> -
						<a href="?transition=fade#/transitions">Fade</a> -
						<a href="?transition=slide#/transitions">Slide</a> -
						<a href="?transition=convex#/transitions">Convex</a> -
						<a href="?transition=concave#/transitions">Concave</a> -
						<a href="?transition=zoom#/transitions">Zoom</a>
					</p>
				</section>

				<section id="themes">
					<h2>Themes</h2>
					<p>
						reveal.js comes with a few themes built in: <br>
						<!-- Hacks to swap themes after the page has loaded. Not flexible and only intended for the reveal.js demo deck. -->
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/black.css'); return false;">Black (default)</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/white.css'); return false;">White</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/league.css'); return false;">League</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/sky.css'); return false;">Sky</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/beige.css'); return false;">Beige</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/simple.css'); return false;">Simple</a> <br>
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/serif.css'); return false;">Serif</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/blood.css'); return false;">Blood</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/night.css'); return false;">Night</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/moon.css'); return false;">Moon</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/solarized.css'); return false;">Solarized</a>
					</p>
				</section>

				<section>
					<section data-background="#dddddd">
						<h2>Slide Backgrounds</h2>
						<p>
							Set <code>data-background="#dddddd"</code> on a slide to change the background color. All CSS color formats are supported.
						</p>
						<a href="#" class="navigate-down">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/image-placeholder.png">
						<h2>Image Backgrounds</h2>
						<pre><code class="hljs">&lt;section data-background="image.png"&gt;</code></pre>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/image-placeholder.png" data-background-repeat="repeat" data-background-size="100px">
						<h2>Tiled Backgrounds</h2>
						<pre><code class="hljs" style="word-wrap: break-word;">&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre>
					</section>
					<section data-background-video="https://s3.amazonaws.com/static.slid.es/site/homepage/v1/homepage-video-editor.mp4,https://s3.amazonaws.com/static.slid.es/site/homepage/v1/homepage-video-editor.webm" data-background-color="#000000">
						<div style="background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px;">
							<h2>Video Backgrounds</h2>
							<pre><code class="hljs" style="word-wrap: break-word;">&lt;section data-background-video="video.mp4,video.webm"&gt;</code></pre>
						</div>
					</section>
					<section data-background="http://i.giphy.com/90F8aUepslB84.gif">
						<h2>... and GIFs!</h2>
					</section>
				</section>

				<section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
					<h2>Background Transitions</h2>
					<p>
						Different background transitions are available via the backgroundTransition option. This one's called "zoom".
					</p>
					<pre><code class="hljs">Reveal.configure({ backgroundTransition: 'zoom' })</code></pre>
				</section>

				<section data-transition="slide" data-background="#b5533c" data-background-transition="zoom">
					<h2>Background Transitions</h2>
					<p>
						You can override background transitions per-slide.
					</p>
					<pre><code class="hljs" style="word-wrap: break-word;">&lt;section data-background-transition="zoom"&gt;</code></pre>
				</section>

				<section>
					<h2>Pretty Code</h2>
					<pre><code class="hljs" data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {

    var nodes = document.querySelectorAll( selector );

    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];

      if( !node.className ) {
        node.className += ' roll';
      }
    }
  }
}
					</code></pre>
					<p>Code syntax highlighting courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
				</section>

				<section>
					<h2>Marvelous List</h2>
					<ul>
						<li>No order here</li>
						<li>Or here</li>
						<li>Or here</li>
						<li>Or here</li>
					</ul>
				</section>

				<section>
					<h2>Fantastic Ordered List</h2>
					<ol>
						<li>One is smaller than...</li>
						<li>Two is smaller than...</li>
						<li>Three!</li>
					</ol>
				</section>

				<section>
					<h2>Tabular Tables</h2>
					<table>
						<thead>
							<tr>
								<th>Item</th>
								<th>Value</th>
								<th>Quantity</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Apples</td>
								<td>$1</td>
								<td>7</td>
							</tr>
							<tr>
								<td>Lemonade</td>
								<td>$2</td>
								<td>18</td>
							</tr>
							<tr>
								<td>Bread</td>
								<td>$3</td>
								<td>2</td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>Clever Quotes</h2>
					<p>
						These guys come in two forms, inline: <q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
					</p>
					<blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would
						reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
					</blockquote>
				</section>

				<section>
					<h2>Intergalactic Interconnections</h2>
					<p>
						You can link between slides internally,
						<a href="#/2/3">like this</a>.
					</p>
				</section>

				<section>
					<h2>Speaker View</h2>
					<p>There's a <a href="https://github.com/hakimel/reveal.js#speaker-notes">speaker view</a>. It includes a timer, preview of the upcoming slide as well as your speaker notes.</p>
					<p>Press the <em>S</em> key to try it out.</p>

					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<section>
					<h2>Export to PDF</h2>
					<p>Presentations can be <a href="https://github.com/hakimel/reveal.js#pdf-export">exported to PDF</a>, here's an example:</p>
					<iframe src="https://www.slideshare.net/slideshow/embed_code/42840540" width="445" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:3px solid #666; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>
				</section>

				<section>
					<h2>Global State</h2>
					<p>
						Set <code>data-state="something"</code> on a slide and <code>"something"</code>
						will be added as a class to the document element when the slide is open. This lets you
						apply broader style changes, like switching the page background.
					</p>
				</section>

				<section data-state="customevent">
					<h2>State Events</h2>
					<p>
						Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name.
					</p>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px;">
Reveal.addEventListener( 'customevent', function() {
	console.log( '"customevent" has fired' );
} );
					</code></pre>
				</section>

				<section>
					<h2>Take a Moment</h2>
					<p>
						Press B or . on your keyboard to pause the presentation. This is helpful when you're on stage and want to take distracting slides off the screen.
					</p>
				</section>

				<section>
					<h2>Much more</h2>
					<ul>
						<li>Right-to-left support</li>
						<li><a href="https://github.com/hakimel/reveal.js#api">Extensive JavaScript API</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#auto-sliding">Auto-progression</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#parallax-background">Parallax backgrounds</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#keyboard-bindings">Custom keyboard bindings</a></li>
					</ul>
				</section>

				<section style="text-align: left;">
					<h1>THE END</h1>
					<p>
						- <a href="http://slides.com">Try the online editor</a> <br>
						- <a href="https://github.com/hakimel/reveal.js">Source code &amp; documentation</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				transition: 'slide', // none/fade/slide/convex/concave/zoom
				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
		</script>

	</body>
</html>
